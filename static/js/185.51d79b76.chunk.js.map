{"version":3,"file":"static/js/185.51d79b76.chunk.js","mappings":"8KASA,MAAMA,GAAkBC,EAAAA,EAAAA,IAASC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,8GAS3BC,GAAqBH,EAAAA,EAAAA,IAASI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,8GAS9BG,EAAgBC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,qRAQfO,GAASA,EAAMC,aAG1BC,EAAgBL,EAAAA,GAAOC,IAAGK,IAAAA,GAAAV,EAAAA,EAAAA,GAAA,0YAiDhC,GA/BuCW,EAAAA,EAAAA,OAAKC,IAA0B,IAAzB,SAACC,EAAQ,QAAEC,GAAQF,EAC5D,MAAOG,EAAWC,IAAgBC,EAAAA,EAAAA,UAA6BpB,GAqB/D,OAnBAqB,EAAAA,EAAAA,YAAU,KAEFF,EADAH,EACahB,EAGJI,EAAmB,GACjC,CAACY,KAEJK,EAAAA,EAAAA,YAAU,IACC,KACHF,EAAa,OAAO,GAEzB,KAQCG,EAAAA,EAAAA,KAAChB,EAAa,CAACW,QANnB,WACIE,EAAaf,GACN,OAAPa,QAAO,IAAPA,GAAAA,GACJ,EAGyCN,WAAYO,EAAUF,UACvDM,EAAAA,EAAAA,KAACV,EAAa,CAAAI,SACTA,KAEO,I,MC9ExB,MAAMO,EAAehB,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wK,s2LAgB/B,EANyDO,IAEjDY,EAAAA,EAAAA,KAACC,EAAY,IAAKb,I,MCV1B,MAAMJ,EAAgBC,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qIAiBhC,EAR8BY,IAAc,IAAb,MAACS,GAAMT,EAClC,OACIO,EAAAA,EAAAA,KAAChB,EAAa,CAAAU,UACVS,EAAAA,EAAAA,MAAA,QAAAT,SAAA,CAAM,6BAAOQ,MACD,E,4DCZxB,MAAMlB,EAAgBC,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mPACjBO,GAASA,EAAMgB,WAAa,OAAS,SAc9CC,EAAYpB,EAAAA,GAAOC,IAAGH,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,kHACNyB,GAgBtB,EAT0Cb,IAAkB,IAAjB,UAACc,GAAUd,EAClD,OACIO,EAAAA,EAAAA,KAAChB,EAAa,CAACoB,WAAYG,EAAUb,UACjCM,EAAAA,EAAAA,KAACK,EAAS,KACE,ECZxB,QApBA,SAAwBG,GACpB,MAAOD,EAAWE,IAAgBX,EAAAA,EAAAA,WAAS,IACpCY,EAAmBC,IAAwBb,EAAAA,EAAAA,YAelD,MAAO,EAACE,EAAAA,EAAAA,KAACY,EAAW,CAACL,UAAWA,IAbhC,WACIE,GAAa,GACb,IAAII,EAAQC,YAAW,KACnBL,GAAa,GACI,OAAjBC,QAAiB,IAAjBA,GAAAA,IACAK,aAAaF,EAAM,GACV,IAAVL,EACP,EAEA,SAAyBQ,GACrBL,GAAqB,IAAMK,GAC/B,EAGJ,E,mBCXA,MAAMhC,EAAgBC,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+RACjBO,GAASA,EAAMgB,WAAa,OAAS,SAe9Ca,EAAsBhC,EAAAA,GAAOC,IAAGH,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,mIAQhCoB,EAAehB,EAAAA,GAAOiC,OAAM/B,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,iLA6BlC,EAlBsCY,IAAgC,IAA/B,UAACc,EAAS,aAAEE,GAAahB,EAC5D,MAAM0B,GAAWC,EAAAA,EAAAA,MAOjB,OACIpB,EAAAA,EAAAA,KAAChB,EAAa,CAACoB,WAAYG,EAAUb,UACjCS,EAAAA,EAAAA,MAACc,EAAmB,CAAAvB,SAAA,EAChBM,EAAAA,EAAAA,KAACC,EAAY,CAACN,QAASA,IAAOc,GAAa,GAAOf,SAAC,kEACnDM,EAAAA,EAAAA,KAACC,EAAY,CAACN,QAT1B,WACIc,GAAa,GACbU,EAAS,QACb,EAMyCzB,SAAC,uCAEtB,EC7CxB,QAXA,WACI,MAAOa,EAAWE,IAAgBX,EAAAA,EAAAA,WAAS,GAErCuB,GAAOC,EAAAA,EAAAA,cAAY,KACrBb,GAAa,EAAK,GACnB,IAGH,MAAO,EAACT,EAAAA,EAAAA,KAACuB,EAAS,CAAChB,UAAWA,EAAWE,aAAcA,IAAkBY,EAAMd,EACnF,ECTMiB,EAAa,CAClB,GAAI,UACJ,GAAI,eACJ,IAAK,6BACL,IAAK,qDACL,IAAK,0GACL,KAAM,gNAGDC,EAAc,CACnB,GAAI,YACJ,GAAI,sBACJ,IAAK,yCACL,IAAK,gFACL,IAAK,4JACL,KAAM,kSAGDC,EAAgB,IAAIC,WAAWC,YAoCtB,SAASC,EAAMC,GAAqC,IAA9B,KAACC,EAAO,GAAE,WAAEC,GAAWC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/D,IAAKT,EAAWO,GACf,MAAM,IAAIK,MAAM,mEAGjB,GAAqB,kBAAVN,EAAoB,CAC9B,GAAIE,EACH,OA5BH,SAAyBK,EAAQN,EAAMC,GACtC,GAA0B,IAAtBA,EAAWE,OACd,MAAM,IAAIE,MAAM,gEAGjB,MAAME,EAAWd,EAAWO,GAC5B,IAAIQ,EAAOd,EAAYM,GACnBS,EAAYH,EAEhB,KAAOG,EAAUN,OAAS,GAAG,CAC5B,MAAMO,EAASf,EAAcgB,WAAWF,EAAWR,GACnDQ,EAAYA,EAAUG,MAAMF,EAAOG,MACnC,IAAK,IAAIC,EAAQ,EAAGA,EAAQJ,EAAOK,QAASD,IAC3CN,GAAQQ,OAAOf,EAAWa,IAC1BN,EAAOQ,OAAOC,QAAQjB,EAAMQ,EAAOD,EAErC,CAEA,OAAOC,CACR,CASUU,CAAgBnB,EAAOC,EAAMC,GAGrCF,EAAQJ,EAAcwB,OAAOpB,EAC9B,CAEA,OA/CD,SAAyBqB,EAAYpB,GACpC,MAAMO,EAAWd,EAAWO,GAC5B,IAAIQ,EAAOd,EAAYM,GAGvB,IAAK,IAAIc,EAAQ,EAAGA,EAAQM,EAAWjB,OAAQW,IAC9CN,GAAQQ,OAAOI,EAAWN,IAC1BN,EAAOQ,OAAOC,QAAQjB,EAAMQ,EAAOD,GAGpC,OAAOC,CACR,CAoCQa,CAAgBtB,EAAOC,EAC/B,CC1DA,QAVA,SAAuBsB,EAAmBnD,GACtC,OAAOoD,EAAAA,EAAAA,UAAQ,KACX,MAAMC,EAAQ,IAAIC,MAActD,GAChC,IAAK,IAAIuD,EAAI,EAAGA,EAAIF,EAAMrB,SAAUuB,EAChCF,EAAME,ICLiBpB,EDKD,GAADqB,OAAIL,GAASK,OAAGD,GCJzCE,OAAO9B,EAAMQ,KDIiCuB,WCLvC,IAAoBvB,EDO3B,OAAOkB,CAAK,GACb,CAACF,EAAWnD,GACnB,E,4DEHA,MAAMlB,EAAgBC,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,mPACjBO,GAASA,EAAMgB,WAAa,OAAS,SAc9CC,EAAYpB,EAAAA,GAAOC,IAAGH,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,kHACNgF,GAgBtB,EAT0CpE,IAAkB,IAAjB,UAACc,GAAUd,EAClD,OACIO,EAAAA,EAAAA,KAAChB,EAAa,CAACoB,WAAYG,EAAUb,UACjCM,EAAAA,EAAAA,KAACK,EAAS,KACE,ECVxB,QAtBA,SAAwBG,GACpB,MAAOD,EAAWE,IAAgBX,EAAAA,EAAAA,WAAS,IACpCY,EAAmBC,IAAwBb,EAAAA,EAAAA,YAE5CuB,GAAOC,EAAAA,EAAAA,cAAY,KACrBb,GAAa,GACb,IAAII,EAAQC,YAAW,KACnBL,GAAa,GACI,OAAjBC,QAAiB,IAAjBA,GAAAA,IACAK,aAAaF,EAAM,GACV,IAAVL,EAAe,GACnB,CAACA,EAASE,IAGPoD,GAAkBxC,EAAAA,EAAAA,cAAaN,IACjCL,GAAqB,IAAMK,GAAS,GACrC,IAGH,MAAO,EAAChB,EAAAA,EAAAA,KAAC+D,EAAW,CAACxD,UAAWA,IAAcc,EAAMyC,EACxD,E,2BCVA,MAAM9E,GAAgBC,EAAAA,GAAOC,IAAGN,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,yIAGVmF,GAKhBC,GAAahF,EAAAA,GAAOC,IAAGH,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,2TAsB7B,SAASqF,GAAaC,EAAaC,GAG/B,OAFAD,EAAME,KAAKC,KAAKH,GAChBC,EAAMC,KAAKE,MAAMH,GACVC,KAAKE,MAAMF,KAAKG,UAAYJ,EAAMD,EAAM,IAAMA,CACzD,CAEA,MAAMM,GAASA,KACX,MAAOC,EAASC,IAAc7E,EAAAA,EAAAA,UAAuB,KAC9C8E,EAAWC,IAAgB/E,EAAAA,EAAAA,UAAS,GACrCgF,EAAOC,EAAcN,GAAOO,KAAMJ,IACjCK,EAASC,IAAcpF,EAAAA,EAAAA,UAAmB,KAC1CqF,EAAOC,IAAYtF,EAAAA,EAAAA,UAAiB,GACrCuF,GAAWC,EAAAA,EAAAA,QAAOH,IACjBI,EAAwBC,EAAiBC,GAAqBC,EAAe,IAC7EC,EAAwBC,EAAiBC,GAAqBC,EAAe,IAC7EC,EAAsBC,EAAeC,GAAsBC,IAC5DC,GAAWC,EAAAA,GAAAA,MAuBjB,MAgBMC,EAAiBtE,IACnB,MAAMuE,EAjBmBvE,KACzB,MAAM7B,EAAQgE,GAAa,EAAG,IACxBX,EAA8B,IAAIC,MAAqBzB,GAAMwE,KAAK,MAClEC,EAAO,IAAIhD,MAEjB,IAAIiD,EAAiB,EACrB,KAAOA,EAAiBvG,GAAO,CAC3B,MAAM2C,EAAQqB,GAAa,EAAGX,EAAMrB,OAAS,GACzCsE,EAAKE,SAAS7D,KAClB2D,EAAKG,KAAK9D,GACVU,EAAMV,GAASqB,IAAc,IAAK,KAClCuC,IACJ,CACA,OAAOlD,CAAK,EAIQqD,CAAoB7E,GACxCmD,EAAYoB,EACPO,QAAOC,GAAgB,MAARA,IACfC,MAAK,CAACC,EAAGC,IAAMD,EAAIC,KAExBtC,EAAW2B,EAAYY,KAAIJ,IAAI,CAAMhF,MAAOgF,EAAMK,MAAOL,EAAO,UAAY,aAAY,GAG5F/G,EAAAA,EAAAA,YAAU,KACD6E,IAELa,GAAkB,KACdL,EAAS,GACTiB,EAAczB,EAAU,IAE5BiB,GAAkB,KACdQ,EAAczB,EAAU,IAG5ByB,EAAczB,GAAU,GAEzB,CAACA,KAEJ7E,EAAAA,EAAAA,YAAU,KACNsF,EAAS+B,QAAUjC,CAAK,GACzB,CAACA,IAEJ,MAAMkC,GAAgB/F,EAAAA,EAAAA,cAAagG,IAC/B,GAAc,MAAVA,EAAgB,OACpB,MAAMC,EAAcC,OAAOC,iBAAiBH,GAAQI,oBAAoBC,MAAM,KAAKzF,OAC7E0F,EAAYJ,OAAOC,iBAAiBH,GAAQO,iBAAiBF,MAAM,KAAKzF,OAC9E2C,EAAa0C,EAAcK,EAAU,GACtC,IASH,OAPA7H,EAAAA,EAAAA,YAAU,IACC,KACHoG,GAAS2B,EAAAA,EAAAA,GAAezC,EAAS+B,SAAS,GAG/C,KAGCjH,EAAAA,EAAAA,MAACnB,GAAa,CAAAU,SAAA,CACT6F,EACAI,EACAI,GACD/F,EAAAA,EAAAA,KAAC+H,EAAW,CAACpI,QAASqG,EAAe,gBAAeC,KACpDjG,EAAAA,EAAAA,KAACgI,EAAK,CAAC9H,MAAOiF,KACdnF,EAAAA,EAAAA,KAACiE,GAAU,CAACgE,IAAKZ,EAAc3H,SAC1BgF,EAAQwC,KAAI,CAACJ,EAAMjE,KAChB,OAAQiE,EAAKK,OACT,IAAK,UACD,OACInH,EAAAA,EAAAA,KAACkI,EAAa,CACCvI,QAASA,IA5FpD,SAAuBwI,EAAYC,GAC/B,GAAInD,EAAQ,KAAOmD,EAGf,OAFA5C,SACAb,EAAW,IAAInB,MAAMoB,GAAW2B,KAAK,CAACzE,MAAO,KAAMqF,MAAO,YAK9D,GADA/B,GAASiD,GAAQA,EAAO,KACD,IAAnBpD,EAAQ/C,OAGR,OAFA0D,SACAjB,EAAW,IAAInB,MAAMoB,GAAW2B,KAAK,CAACzE,MAAO,KAAMqF,MAAO,YAI9DjC,EAAWD,EAAQtC,MAAM,EAAGsC,EAAQ/C,SACpC,MAAMoG,EAAa,IAAI5D,GACvB4D,EAAWH,GAAM,CAACrG,MAAO,KAAMqF,MAAO,UACtCxC,EAAW2D,EAEf,CAyE0DC,CAAc1F,EAAOiE,EAAKhF,OAAiBpC,SACpEoH,EAAKhF,OAFUgD,EAAKjC,IAKjC,IAAK,SACD,OAAQ7C,EAAAA,EAAAA,KAACkI,EAAa,GAAMpD,EAAKjC,IACrC,QACI,OAAO7C,EAAAA,EAAAA,KAAA,SAAU8E,EAAKjC,IAC9B,QAGI,EAIxB,K","sources":["components/OctagonButton.tsx","components/PauseButton.tsx","components/Score.tsx","components/FailMessage.tsx","hooks/useFailMessage.tsx","components/PauseMenu.tsx","hooks/usePauseMenu.tsx","../node_modules/@sindresorhus/fnv1a/index.js","hooks/useUniqueKeys.ts","../node_modules/@sindresorhus/string-hash/index.js","components/PassMessage.tsx","hooks/usePassMessage.tsx","pages/LowPop.tsx"],"sourcesContent":["import React, {FC, memo, PropsWithChildren, useEffect, useState} from 'react';\r\nimport styled, {keyframes} from \"styled-components\";\r\nimport {Keyframes} from \"styled-components/dist/types\";\r\n\r\nexport interface ButtonProps extends PropsWithChildren {\r\n    onClick?: () => void;\r\n}\r\n\r\n\r\nconst appearAnimation = keyframes`\r\n    from {\r\n        transform: scale(0%);\r\n    }\r\n    to {\r\n        transform: scale(100%);\r\n    }\r\n`;\r\n\r\nconst disappearAnimation = keyframes`\r\n    from {\r\n        transform: scale(100%);\r\n    }\r\n    to {\r\n        transform: scale(0%);\r\n    }\r\n`;\r\n\r\nconst StyledWrapper = styled.div<{$animation: Keyframes | string; }>`\r\n    width: 100px;\r\n    height: 100px;\r\n    font-size: 2rem;\r\n    background-color: white;\r\n    clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);\r\n    position: relative;\r\n    \r\n    animation: ${props => props.$animation} 0.25s ease-in-out forwards;\r\n`;\r\n\r\nconst StyledContent = styled.div`\r\n    position: absolute;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: white;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    top: 0;\r\n    margin: auto;\r\n    width: calc(100% - 5px);\r\n    height: calc(100% - 5px);\r\n    background-color: blue;\r\n    clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);\r\n`;\r\n\r\n\r\nconst OctagonButton: FC<ButtonProps> = memo(({children, onClick}) => {\r\n    const [animation, setAnimation] = useState<Keyframes | string>(appearAnimation)\r\n\r\n    useEffect(() => {\r\n        if (children) {\r\n            setAnimation(appearAnimation);\r\n            return;\r\n        }\r\n        setAnimation(disappearAnimation);\r\n    }, [children]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setAnimation(\"none\");\r\n        }\r\n    }, []);\r\n\r\n    function handleClick() {\r\n        setAnimation(disappearAnimation);\r\n        onClick?.();\r\n    }\r\n\r\n    return (\r\n        <StyledWrapper onClick={handleClick} $animation={animation}>\r\n            <StyledContent>\r\n                {children}\r\n            </StyledContent>\r\n        </StyledWrapper>\r\n    );\r\n});\r\n\r\nexport default OctagonButton;","import React, {FC, HTMLAttributes} from 'react';\r\nimport styled from \"styled-components\";\r\nimport icon from \"../images/pause.png\"\r\n\r\n\r\nconst StyledButton = styled.div`\r\n    position: absolute;\r\n    top: 10px;\r\n    left: 10px;\r\n    width: 5%;\r\n    height: 5%;\r\n    background: url(${icon}) no-repeat;\r\n    background-size: contain;\r\n`;\r\n\r\nconst PauseButton: FC<HTMLAttributes<HTMLDivElement>> = (props) => {\r\n    return (\r\n        <StyledButton {...props}/>\r\n    );\r\n};\r\n\r\nexport default PauseButton;","import React, {FC} from 'react';\r\nimport styled from \"styled-components\";\r\n\r\nexport interface ScoreProps {\r\n    count: number;\r\n}\r\n\r\nconst StyledWrapper = styled.div`\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 10px;\r\n    color: white;\r\n    font-size: 1rem;\r\n    font-weight: 600;\r\n`;\r\n\r\nconst Score: FC<ScoreProps> = ({count}) => {\r\n    return (\r\n        <StyledWrapper>\r\n            <span>Очки: {count}</span>\r\n        </StyledWrapper>\r\n    );\r\n};\r\n\r\nexport default Score;","import React, {FC} from 'react';\r\nimport styled from \"styled-components\"\r\nimport errorImage from \"../images/error.png\"\r\n\r\nexport interface FailMessageProps  {\r\n    isVisible: boolean;\r\n}\r\n\r\nconst StyledWrapper = styled.div<{$isVisible: boolean}>`\r\n    display: ${props => props.$isVisible ? \"flex\" : \"none\"};\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 100;\r\n`;\r\n\r\nconst StyledDiv = styled.div`\r\n    background: url(${errorImage}) no-repeat;\r\n    background-size: cover;\r\n    width: 256px;\r\n    height: 256px;\r\n`;\r\n\r\n\r\nconst FailMessage: FC<FailMessageProps> = ({isVisible}) => {\r\n    return (\r\n        <StyledWrapper $isVisible={isVisible}>\r\n            <StyledDiv/>\r\n        </StyledWrapper>\r\n    );\r\n};\r\n\r\n\r\nexport default FailMessage;","import React, {ReactElement, useState} from \"react\";\r\nimport FailMessage from \"../components/FailMessage\";\r\n\r\nfunction useFailMessage(seconds: number): [ReactElement, () => void, (callback: () => void) => void] {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [afterHideCallback, setAfterHideCallback] = useState<() => void>();\r\n\r\n    function show() {\r\n        setIsVisible(true);\r\n        let timer = setTimeout(() => {\r\n            setIsVisible(false);\r\n            afterHideCallback?.();\r\n            clearTimeout(timer);\r\n        }, seconds * 1000);\r\n    }\r\n\r\n    function setHideCallback(callback: () => void) {\r\n        setAfterHideCallback(() => callback);\r\n    }\r\n\r\n    return [<FailMessage isVisible={isVisible}/>, show, setHideCallback];\r\n}\r\n\r\nexport default useFailMessage;","import React, {Dispatch, FC, SetStateAction} from 'react';\r\nimport styled from 'styled-components';\r\nimport {useNavigate} from \"react-router-dom\";\r\n\r\nexport interface PauseMenuProps {\r\n    isVisible: boolean;\r\n    setIsVisible: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\n\r\nconst StyledWrapper = styled.div<{$isVisible: boolean;}>`\r\n    display: ${props => props.$isVisible ? \"flex\" : \"none\"};\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n    left: 0;\r\n    margin: auto;\r\n    background-color: rgba(0, 0, 0, 0.53);\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 100;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst StyledButtonWrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    gap: 20px;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n    outline: none;\r\n    border: none;\r\n    font-size: 20px;\r\n    background-color: rgba(0, 0, 0, 0.7);\r\n    color: white;\r\n    width: 300px;\r\n    padding: 10px 20px;\r\n`;\r\n\r\n\r\nconst PauseMenu: FC<PauseMenuProps> = ({isVisible, setIsVisible}) => {\r\n    const navigate = useNavigate();\r\n\r\n    function leave() {\r\n        setIsVisible(false);\r\n        navigate(\"/menu\");\r\n    }\r\n\r\n    return (\r\n        <StyledWrapper $isVisible={isVisible}>\r\n            <StyledButtonWrapper>\r\n                <StyledButton onClick={() =>  setIsVisible(false)}>Продолжить</StyledButton>\r\n                <StyledButton onClick={leave}>Выйти</StyledButton>\r\n            </StyledButtonWrapper>\r\n        </StyledWrapper>\r\n    );\r\n};\r\n\r\nexport default PauseMenu;","import {ReactElement, useCallback, useState} from \"react\";\r\nimport PauseMenu from \"../components/PauseMenu\";\r\n\r\nfunction usePauseMenu(): [ReactElement, () => void, boolean] {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n\r\n    const show = useCallback(() => {\r\n        setIsVisible(true);\r\n    }, []);\r\n\r\n\r\n    return [<PauseMenu isVisible={isVisible} setIsVisible={setIsVisible} />, show, isVisible]\r\n}\r\n\r\nexport default usePauseMenu;","// FNV_PRIMES and FNV_OFFSETS from\n// http://www.isthe.com/chongo/tech/comp/fnv/index.html#FNV-param\n\nconst FNV_PRIMES = {\n\t32: 16_777_619n,\n\t64: 1_099_511_628_211n,\n\t128: 309_485_009_821_345_068_724_781_371n,\n\t256: 374_144_419_156_711_147_060_143_317_175_368_453_031_918_731_002_211n,\n\t512: 35_835_915_874_844_867_368_919_076_489_095_108_449_946_327_955_754_392_558_399_825_615_420_669_938_882_575_126_094_039_892_345_713_852_759n,\n\t1024: 5_016_456_510_113_118_655_434_598_811_035_278_955_030_765_345_404_790_744_303_017_523_831_112_055_108_147_451_509_157_692_220_295_382_716_162_651_878_526_895_249_385_292_291_816_524_375_083_746_691_371_804_094_271_873_160_484_737_966_720_260_389_217_684_476_157_468_082_573n,\n};\n\nconst FNV_OFFSETS = {\n\t32: 2_166_136_261n,\n\t64: 14_695_981_039_346_656_037n,\n\t128: 144_066_263_297_769_815_596_495_629_667_062_367_629n,\n\t256: 100_029_257_958_052_580_907_070_968_620_625_704_837_092_796_014_241_193_945_225_284_501_741_471_925_557n,\n\t512: 9_659_303_129_496_669_498_009_435_400_716_310_466_090_418_745_672_637_896_108_374_329_434_462_657_994_582_932_197_716_438_449_813_051_892_206_539_805_784_495_328_239_340_083_876_191_928_701_583_869_517_785n,\n\t1024: 14_197_795_064_947_621_068_722_070_641_403_218_320_880_622_795_441_933_960_878_474_914_617_582_723_252_296_732_303_717_722_150_864_096_521_202_355_549_365_628_174_669_108_571_814_760_471_015_076_148_029_755_969_804_077_320_157_692_458_563_003_215_304_957_150_157_403_644_460_363_550_505_412_711_285_966_361_610_267_868_082_893_823_963_790_439_336_411_086_884_584_107_735_010_676_915n,\n};\n\nconst cachedEncoder = new globalThis.TextEncoder();\n\nfunction fnv1aUint8Array(uint8Array, size) {\n\tconst fnvPrime = FNV_PRIMES[size];\n\tlet hash = FNV_OFFSETS[size];\n\n\t// eslint-disable-next-line unicorn/no-for-loop -- This is a performance-sensitive loop\n\tfor (let index = 0; index < uint8Array.length; index++) {\n\t\thash ^= BigInt(uint8Array[index]);\n\t\thash = BigInt.asUintN(size, hash * fnvPrime);\n\t}\n\n\treturn hash;\n}\n\nfunction fnv1aEncodeInto(string, size, utf8Buffer) {\n\tif (utf8Buffer.length === 0) {\n\t\tthrow new Error('The `utf8Buffer` option must have a length greater than zero');\n\t}\n\n\tconst fnvPrime = FNV_PRIMES[size];\n\tlet hash = FNV_OFFSETS[size];\n\tlet remaining = string;\n\n\twhile (remaining.length > 0) {\n\t\tconst result = cachedEncoder.encodeInto(remaining, utf8Buffer);\n\t\tremaining = remaining.slice(result.read);\n\t\tfor (let index = 0; index < result.written; index++) {\n\t\t\thash ^= BigInt(utf8Buffer[index]);\n\t\t\thash = BigInt.asUintN(size, hash * fnvPrime);\n\t\t}\n\t}\n\n\treturn hash;\n}\n\nexport default function fnv1a(value, {size = 32, utf8Buffer} = {}) {\n\tif (!FNV_PRIMES[size]) {\n\t\tthrow new Error('The `size` option must be one of 32, 64, 128, 256, 512, or 1024');\n\t}\n\n\tif (typeof value === 'string') {\n\t\tif (utf8Buffer) {\n\t\t\treturn fnv1aEncodeInto(value, size, utf8Buffer);\n\t\t}\n\n\t\tvalue = cachedEncoder.encode(value);\n\t}\n\n\treturn fnv1aUint8Array(value, size);\n}\n","import {useMemo} from \"react\";\r\nimport stringHash from '@sindresorhus/string-hash';\r\n\r\nfunction useUniqueKeys(uniqueKey: string, count: number) {\r\n    return useMemo(() => {\r\n        const array = new Array<string>(count);\r\n        for (let i = 0; i < array.length; ++i) {\r\n            array[i] = stringHash(`${uniqueKey}${i}`).toString();\r\n        }\r\n        return array;\r\n    }, [uniqueKey, count]);\r\n}\r\n\r\nexport default useUniqueKeys;","import fnv1a from '@sindresorhus/fnv1a';\n\nexport default function stringHash(string) {\n\treturn Number(fnv1a(string));\n}\n","import React, {FC} from 'react';\r\nimport styled from \"styled-components\"\r\nimport checkImage from \"../images/check.png\"\r\n\r\nexport interface PassMessageProps  {\r\n    isVisible: boolean;\r\n}\r\n\r\nconst StyledWrapper = styled.div<{$isVisible: boolean}>`\r\n    display: ${props => props.$isVisible ? \"flex\" : \"none\"};\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: 100;\r\n`;\r\n\r\nconst StyledDiv = styled.div`\r\n    background: url(${checkImage}) no-repeat;\r\n    background-size: cover;\r\n    width: 256px;\r\n    height: 256px;\r\n`;\r\n\r\n\r\nconst PassMessage: FC<PassMessageProps> = ({isVisible}) => {\r\n    return (\r\n        <StyledWrapper $isVisible={isVisible}>\r\n            <StyledDiv/>\r\n        </StyledWrapper>\r\n    );\r\n};\r\n\r\n\r\nexport default PassMessage;","import React, {ReactElement, useCallback, useState} from \"react\";\r\nimport PassMessage from \"../components/PassMessage\";\r\n\r\nfunction usePassMessage(seconds: number): [ReactElement, () => void, (callback: () => void) => void] {\r\n    const [isVisible, setIsVisible] = useState(false);\r\n    const [afterHideCallback, setAfterHideCallback] = useState<() => void>();\r\n\r\n    const show = useCallback(() => {\r\n        setIsVisible(true);\r\n        let timer = setTimeout(() => {\r\n            setIsVisible(false);\r\n            afterHideCallback?.();\r\n            clearTimeout(timer);\r\n        }, seconds * 1000);\r\n    }, [seconds, afterHideCallback]);\r\n\r\n\r\n    const setHideCallback = useCallback((callback: () => void) => {\r\n        setAfterHideCallback(() => callback);\r\n    }, []);\r\n\r\n\r\n    return [<PassMessage isVisible={isVisible}/>, show, setHideCallback];\r\n}\r\n\r\nexport default usePassMessage;","import React, {useCallback, useEffect, useRef, useState} from 'react';\r\nimport styled from \"styled-components\";\r\nimport background from \"../images/background.jpg\";\r\nimport OctagonButton from \"../components/OctagonButton\";\r\nimport PauseButton from \"../components/PauseButton\";\r\nimport Score from \"../components/Score\";\r\nimport useFailMessage from \"../hooks/useFailMessage\";\r\nimport usePauseMenu from \"../hooks/usePauseMenu\";\r\nimport useUniqueKeys from \"../hooks/useUniqueKeys\";\r\nimport usePassMessage from \"../hooks/usePassMessage\";\r\nimport {setLowPopScore} from \"../models/userSlice\";\r\nimport {useAppDispatch} from \"../store\";\r\n\r\nconst StyledWrapper = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url(${background}) no-repeat;\r\n    background-size: cover;\r\n    position: relative;\r\n`;\r\n\r\nconst StyledGrid = styled.div`\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    display: grid;\r\n    height: 95%;\r\n    padding: 10px;\r\n    gap: 10px;\r\n    align-items: center;\r\n    grid-template-columns: repeat(auto-fill, 100px);\r\n    grid-template-rows: repeat(auto-fill, 100px);\r\n    justify-content: center;\r\n`;\r\n\r\ntype ButtonState = \"visible\" | \"hidden\" | \"switch\";\r\n\r\ninterface ButtonData {\r\n    value: number | null;\r\n    state: ButtonState;\r\n}\r\n\r\nfunction getRandomInt(min: number, max: number) {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nconst LowPop = () => {\r\n    const [buttons, setButtons] = useState<ButtonData[]>([]);\r\n    const [cellCount, setCellCount] = useState(0);\r\n    const keys = useUniqueKeys(LowPop.name, cellCount);\r\n    const [numbers, setNumbers] = useState<number[]>([]);\r\n    const [score, setScore] = useState<number>(0);\r\n    const scoreRef = useRef(score);\r\n    const [failMessagePlaceholder, showFailMessage, onFailMessageHide] = useFailMessage(1);\r\n    const [passMessagePlaceholder, showPassMessage, onPassMessageHide] = usePassMessage(1);\r\n    const [pauseMenuPlaceholder, showPauseMenu, pauseMenuIsVisible] = usePauseMenu();\r\n    const dispatch = useAppDispatch();\r\n\r\n    function onButtonClick(id: number, content: number) {\r\n        if (numbers[0] !== content) {\r\n            showFailMessage();\r\n            setButtons(new Array(cellCount).fill({value: null, state: \"hidden\"}));\r\n            return;\r\n        }\r\n\r\n        setScore(prev => prev + 10);\r\n        if (numbers.length === 1) {\r\n            showPassMessage();\r\n            setButtons(new Array(cellCount).fill({value: null, state: \"hidden\"}));\r\n            return;\r\n        }\r\n\r\n        setNumbers(numbers.slice(1, numbers.length));\r\n        const newButtons = [...buttons];\r\n        newButtons[id] = {value: null, state: \"switch\"};\r\n        setButtons(newButtons);\r\n\r\n    }\r\n\r\n    const generateSubsequence = (size: number) => {\r\n        const count = getRandomInt(5, 10);\r\n        const array: Array<number | null> = new Array<number | null>(size).fill(null);\r\n        const used = new Array<number>();\r\n\r\n        let generatedCount = 0;\r\n        while (generatedCount < count) {\r\n            const index = getRandomInt(0, array.length - 1);\r\n            if (used.includes(index)) continue;\r\n            used.push(index);\r\n            array[index] = getRandomInt(-100, 100);\r\n            generatedCount++;\r\n        }\r\n        return array;\r\n    };\r\n\r\n    const generateLevel = (size: number) => {\r\n        const subsequence = generateSubsequence(size);\r\n        setNumbers((subsequence\r\n            .filter(item => item != null) as number[])\r\n            .sort((a, b) => a - b)\r\n        );\r\n        setButtons(subsequence.map(item => ({value: item, state: item ? \"visible\" : \"hidden\"})));\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!cellCount) return;\r\n\r\n        onFailMessageHide(() => {\r\n            setScore(0);\r\n            generateLevel(cellCount);\r\n        });\r\n        onPassMessageHide(() => {\r\n            generateLevel(cellCount);\r\n        });\r\n\r\n        generateLevel(cellCount);\r\n        // eslint-disable-next-line\r\n    }, [cellCount]);\r\n\r\n    useEffect(() => {\r\n        scoreRef.current = score;\r\n    }, [score]);\r\n\r\n    const initCellCount = useCallback((layout: HTMLDivElement) => {\r\n        if (layout == null) return;\r\n        const columnCount = window.getComputedStyle(layout).gridTemplateColumns.split(\" \").length;\r\n        const rowsCount = window.getComputedStyle(layout).gridTemplateRows.split(\" \").length;\r\n        setCellCount(columnCount * rowsCount);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(setLowPopScore(scoreRef.current));\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        <StyledWrapper>\r\n            {failMessagePlaceholder}\r\n            {passMessagePlaceholder}\r\n            {pauseMenuPlaceholder}\r\n            <PauseButton onClick={showPauseMenu} aria-disabled={pauseMenuIsVisible}/>\r\n            <Score count={score}/>\r\n            <StyledGrid ref={initCellCount}>\r\n                {buttons.map((item, index) => {\r\n                    switch (item.state) {\r\n                        case \"visible\":\r\n                            return (\r\n                                <OctagonButton key={keys[index]}\r\n                                               onClick={() => onButtonClick(index, item.value as number)}>\r\n                                    {item.value}\r\n                                </OctagonButton>\r\n                            );\r\n                        case \"switch\":\r\n                            return (<OctagonButton key={keys[index]}/>);\r\n                        default:\r\n                            return <div key={keys[index]}/>\r\n                    }\r\n                })}\r\n            </StyledGrid>\r\n        </StyledWrapper>\r\n    );\r\n};\r\n\r\nexport default LowPop;"],"names":["appearAnimation","keyframes","_templateObject","_taggedTemplateLiteral","disappearAnimation","_templateObject2","StyledWrapper","styled","div","_templateObject3","props","$animation","StyledContent","_templateObject4","memo","_ref","children","onClick","animation","setAnimation","useState","useEffect","_jsx","StyledButton","count","_jsxs","$isVisible","StyledDiv","errorImage","isVisible","seconds","setIsVisible","afterHideCallback","setAfterHideCallback","FailMessage","timer","setTimeout","clearTimeout","callback","StyledButtonWrapper","button","navigate","useNavigate","show","useCallback","PauseMenu","FNV_PRIMES","FNV_OFFSETS","cachedEncoder","globalThis","TextEncoder","fnv1a","value","size","utf8Buffer","arguments","length","undefined","Error","string","fnvPrime","hash","remaining","result","encodeInto","slice","read","index","written","BigInt","asUintN","fnv1aEncodeInto","encode","uint8Array","fnv1aUint8Array","uniqueKey","useMemo","array","Array","i","concat","Number","toString","checkImage","setHideCallback","PassMessage","background","StyledGrid","getRandomInt","min","max","Math","ceil","floor","random","LowPop","buttons","setButtons","cellCount","setCellCount","keys","useUniqueKeys","name","numbers","setNumbers","score","setScore","scoreRef","useRef","failMessagePlaceholder","showFailMessage","onFailMessageHide","useFailMessage","passMessagePlaceholder","showPassMessage","onPassMessageHide","usePassMessage","pauseMenuPlaceholder","showPauseMenu","pauseMenuIsVisible","usePauseMenu","dispatch","useAppDispatch","generateLevel","subsequence","fill","used","generatedCount","includes","push","generateSubsequence","filter","item","sort","a","b","map","state","current","initCellCount","layout","columnCount","window","getComputedStyle","gridTemplateColumns","split","rowsCount","gridTemplateRows","setLowPopScore","PauseButton","Score","ref","OctagonButton","id","content","prev","newButtons","onButtonClick"],"sourceRoot":""}